---
import Icon from "@components/elements/icon/icon.astro";
import Heading from "@components/typography/heading/heading.astro";
import SimpleText from "@components/typography/simple-text/simple-text.astro";
import ButtonGroup from "@components/wrappers/button-group/button-group.astro";
import Card from "@components/wrappers/card/card.astro";
import GridItem from "@components/wrappers/grid/grid-item.astro";
import Grid from "@components/wrappers/grid/grid.astro";

const { colorScheme, items = [], class: className, ...rest } = Astro.props;

const htmlAttributes = Object.fromEntries(
  Object.entries(rest).filter(([key]) => key !== "_component")
);
---

<Grid class="feature-grid" {...htmlAttributes}>
  {
    items.map((item: any) => (
      <GridItem>
        <Card
          class="feature-grid-item"
          colorScheme={colorScheme}
          backgroundColor="base"
          border
          rounded
          paddingHorizontal="lg"
          paddingVertical="lg"
        >
          {item.iconName && (
            <Icon name={item.iconName} color={item.iconColor} background={true} size="xl" />
          )}
          {item.title && <Heading text={item.title} level="h3" size="lg" />}
          {item.subtitle && <Heading text={item.subtitle} level="h4" size="md" class="subtitle" />}
          {item.description && <SimpleText text={item.description} />}
          {item.buttonBlock && (
            <ButtonGroup buttonBlocks={[item.buttonBlock]} editable={false} alignX="start" />
          )}
        </Card>
      </GridItem>
    ))
  }
</Grid>
